<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<html>
<head>
<title>4.5 Using Dropbear for SSH</title>
<meta name="description" content="4.5 using Dropbear for SSH">
<meta name="keywords" content="User_Guide">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">

<meta name="Generator" content="LaTeX2HTML v2008">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="STYLESHEET" href="User_Guide.css">

<link rel="next" href="node33.html">
<link rel="previous" href="node31.html">
<link rel="up" href="node27.html">
<link rel="next" href="node33.html">
</head>

<body >

<div class="navigation"><!--Navigation Panel-->
<a name="tex2html434"
  href="node33.html">
<img width="37" height="24" align="BOTTOM" border="0" alt="next" src="next.png"></a> 
<a name="tex2html432"
  href="node27.html">
<img width="26" height="24" align="BOTTOM" border="0" alt="up" src="up.png"></a> 
<a name="tex2html426"
  href="node31.html">
<img width="63" height="24" align="BOTTOM" border="0" alt="previous" src="prev.png"></a>   
<br>
<b> Next:</b> <a name="tex2html435"
  href="node33.html">4.6 Using an Ethernet</a>
<b> Up:</b> <a name="tex2html433"
  href="node27.html">4 System Guide</a>
<b> Previous:</b> <a name="tex2html427"
  href="node31.html">4.4 Shell Environment</a>
<br>
<br></div>
<!--End of Navigation Panel-->

<h2><a name="SECTION00055000000000000000"></a>
<a name="dropbear"></a>
<br>
<span class="arabic">4</span>.<span class="arabic">5</span> Using Dropbear for SSH
</h2>

<p>
SSH, or secure shell, is a protocol for remote login with an advantage over
telnet being that it can use public key authentication instead of passwords.
Another advantage over the telnet protocol is that plain text is not
transfered; the data sent between the host connections is encrypted.

<p>
<tt>dropbear</tt> is a small SSH v2 server and client package. Keys are generated
and the server is started on system bootup by default, unless either the
ttylinux <tt>dropbear</tt> starup script detects the CPU is slower than 1 GHz or
the <tt>nosshd</tt> boot options was specified.

<p>
<tt>dropbear</tt> allows password and public key authentication. Public key
authentication can use DSS and RSA keys and works with keys generated by the
popular OpenSSH package. Having a public key from OpenSSH in the file
<tt>.ssh/authorized_keys</tt> should allow secure login from the machine that has
the corresponding private key. The permissions on the <tt>.ssh</tt> directory must
not include group or other write permission, otherwise <tt>dropbear</tt> will
refuse public key authentication.

<p>
The SSH client program is called <tt>dbclient</tt>. It is different from the
server in that it cannot use keys in OpenSSH format. You can use the
<tt>dropbearconvert</tt> program to convert an OpenSSH format key for use by
<tt>dbclient</tt> or you can use <tt>dropbearkey</tt> to create a new key.

<p>
To convert an OpenSSH key stored in <tt>&nbsp;/.ssh/id_rsa</tt>, do:

<p>
<pre>
	dropbearconvert openssh dropbear \
		~/.ssh/id_rsa ~/.ssh/id_rsa.db
</pre>

<p>
The new key will be stored in <tt>&nbsp;/.ssh/id_rsa.db</tt>. You can use the <tt>-i</tt>
switch to <tt>dbclient</tt> to make it use your new key for authentication. The
public key part of the old OpenSSH key can be used as-is for pasting into your
<tt>&nbsp;/.ssh/authorized_keys</tt> file. Conversion is only needed for the private
key.

<p>
To create a new RSA key to store in <tt>&nbsp;/.ssh/id_rsa.db</tt>, you can use the
following command:

<p>
<pre>
	dropbearkey -t rsa -f ~/.ssh/id_rsa.db
</pre>

<p>
The public key part of the new key will be printed to the screen. You can put
it into the <tt>&nbsp;/.ssh/authorized_keys</tt> file on all machines where you want to
be able to login using your new private key stored in <tt>&nbsp;/.ssh/id_rsa.db</tt>.
You can create a DSS key instead of an RSA key by using <tt>-t</tt> <tt>dss</tt>
instead of <tt>-t</tt> <tt>rsa</tt>. Should you lose the public key, you can always
get it back by using the private key and the <tt>-y</tt> switch to
<tt>dropbearkey</tt>:

<p>
<pre>
	dropbearkey -y -f ~/.ssh/id_rsa.db
</pre>

<p>
If you want to use <tt>scp</tt> to copy files from another machine, the standard
<tt>scp</tt> program from OpenSSH is included with <tt>dropbear</tt> and ttylinux.

<p>

<div class="navigation"><hr>
<!--Navigation Panel-->
<a name="tex2html434"
  href="node33.html">
<img width="37" height="24" align="BOTTOM" border="0" alt="next" src="next.png"></a> 
<a name="tex2html432"
  href="node27.html">
<img width="26" height="24" align="BOTTOM" border="0" alt="up" src="up.png"></a> 
<a name="tex2html426"
  href="node31.html">
<img width="63" height="24" align="BOTTOM" border="0" alt="previous" src="prev.png"></a>   
<br>
<b> Next:</b> <a name="tex2html435"
  href="node33.html">4.6 Using an Ethernet</a>
<b> Up:</b> <a name="tex2html433"
  href="node27.html">4 System Guide</a>
<b> Previous:</b> <a name="tex2html427"
  href="node31.html">4.4 Shell Environment</a></div>
<!--End of Navigation Panel-->

</body>
</html>
